<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
    <title>Main</title>
    <link rel='stylesheet' href='css/reset.css' type='text/css'/>
    <link rel='stylesheet' href='css/tilemill.css' type='text/css'/>

    <script type="text/javascript" src="js/libraries/jquery.js"></script>
    <script type="text/javascript" src="js/libraries/jquery-ui.js"></script>
    <script type="text/javascript" src="js/libraries/jquery.url.js"></script>
    <script type="text/javascript" src="js/openlayers/OpenLayers.js"></script>
    <script type="text/javascript" src="js/libraries/farbtastic.js"></script>
    <script type="text/javascript" src="js/codemirror/js/codemirror.js"></script>
    <script type="text/javascript" src="js/libraries/base64.js"></script>
    <script type="text/javascript" src="js/libraries/jquery.bbq.js"></script>

    <script type="text/javascript" src="js/tilemill.js"></script>

    <!-- This file is optional - it can contain JS settings -->
    <script type="text/javascript" src="js/settings.js"></script>

    <script type="text/javascript" src="js/callbacks/list.js"></script>
    <script type="text/javascript" src="js/callbacks/project.js"></script>
    <!-- <script type="text/javascript" src="js/callbacks/visualization.js"></script> -->

    <script type="text/javascript" src="js/includes/template.js"></script>
    <script type="text/javascript" src="js/includes/cache.js"></script>
    <script type="text/javascript" src="js/includes/popup.js"></script>
    <script type="text/javascript" src="js/includes/backend.js"></script>
    <script type="text/javascript" src="js/includes/queue.js"></script>
    <script type="text/javascript" src="js/includes/mml.js"></script>
    <script type="text/javascript" src="js/includes/inspector.js"></script>
    <script type="text/javascript" src="js/includes/stylesheet.js"></script>
    <script type="text/javascript" src="js/includes/code.js"></script>
    <script type="text/javascript" src="js/includes/color.js"></script>
    <script type="text/javascript" src="js/includes/map.js"></script>

    <script type="text/html" name="list">
    <div id='header' class='clearfix pane'>
      <h1>TileMill</h1>
    </div>
    <div id='content' class='clearfix'>
      <%= projects %>
      <%= visualizations %>
    </div>
    </div>
    </script>

    <script type="text/html" name="column">
    <div class='column'>
      <h2 class='pane'><%= name %></h2>
      <ul class='items'>
        <% for (i in data) { %>
          <li><a href='#action=<%= type %>&id=<%= data[i] %>' class='route'><%= data[i] %></a></li>
        <% } %>
        <li><form id='<%= type %>'><input class='text' type='text' /><input class='submit' type='submit' value='Add <%= type %>' /></form></li>
      </ul>
    </div>
    </script>

    <script type="text/html" name="project">
    <div id='header' class='clearfix pane'>
      <h1>Editing <%= id %></h1>
      <a class='info' href='#project-info'>Info</a>
      <a class='save' href='#project-save'>Save</a>
      <a class='home' href='#list'>Back home</a>
    </div>
    <div id='sidebar'>
    </div>
    </script>

    <script type="text/html" name="layers">
    <div id='layers'>
      <div class='sidebar-header clearfix pane'>
        <h2>Layers</h2>
        <a href="#layers-add" id="layers-add">+ Add</a>
      </div>
      <ul class='sidebar-content'>
      </ul>
    </div>
    </script>

    <script type="text/html" name="inspector">
    <div id='inspector'>
      <div class='sidebar-header clearfix pane'>
        <h2>Inspector</h2>
        <a class='inspector-close' href="#">Close</a>
      </div>
      <ul class='sidebar-content'>
      </ul>
    </div>
    </script>

    <script type="text/html" name="map">
    <div id='map-preview'>
      <a class="map-fullscreen" href="#map-fullscreen">Fullscreen</a>
      <h4 id='zoom-display'>Zoom level ?</h4>
    </div>
    </script>

    <script type="text/html" name="stylesheets">
    <div id='tabs'>
      <div class='stylesheets'></div>
      <a class='tab-add' href='#'>Add MSS</a>
    </div>
    <div id='editor'>
      <textarea id='code'></textarea>
    </div>
    </script>

    <script type="text/html" name="color">
    <div id='color-palette' class='pane'>
      <div id='color-picker' class='pane'>
        <a class='color-picker' href='#color-picker'>Color picker</a>
        <input size='7' maxlength='7' id='color' type='text' class='text' />
        <div class='pane' id='farbtastic'></div>
      </div>
      <div id='colors'>
        <label>Colors</label>
        <div></div>
      </div>
    </div>
    </script>

    <script type="text/html" name="popup">
    <div id="popup">
      <div class="popup-backdrop"></div>
      <div class="popup">
        <div class="popup-header clearfix pane">
          <h2><%= title %></h2>
          <a href="#" class="popup-close">Close</a>
        </div>
        <div class="popup-content"></div>
      </div>
    </div>
    </script>
    <script type="text/html" name="popup-layer">
    <div id='popup-layer' class='clearfix pane'>
      <form>
        <div><label for="classes">Classes</label><input type="text" class="text" id="classes" /></div>
        <div><label for="id">Id</label><input type="text" class="text" id="id" /></div>
        <div><label for="dataSource">Data Source</label><input type="text" class="text" id="dataSource" /></div>
        <div>
          <label for="srs">SRS</label>
          <select id="srs">
            <option value="900913">900913</option>
            <option value="WGS84">WGS84</option>
          </select>
        </div>
        <div class='buttons'><input class='submit' type='submit' value='<%= submit %>' /></div>
      </form>
    </div>
    </script>
    <script type="text/html" name="popup-info">
    <div id='popup-info' class='clearfix pane'>
      <form>
        <div><label for='tilelive-url'>TileLive URL</label><input id='tilelive-url' class='text' type='text' value=<%= tilelive_url %>/></div>
        <div><label for='mml-url'>MML URL</label><input id='mml-url' class='text' type='text' value=<%= mml_url %> /></div>
      </form>
    </div>
    </script>
    <script type="text/html" name="popup-stylesheet">
    <div id='popup-stylesheet' class='clearfix pane'>
      <form>
        <div><label for='stylesheet-name'>Name</label><input id='stylesheet-name' class='text' type='text' /></div>
        <div class='buttons'><input class='submit' type='submit' value='Add stylesheet' /></div>
      </form>
    </div>
    </script>
    <script type="text/html" name="popup-standard">
    <div id='popup-standard' class='clearfix pane'>
      <%= content %>
    </div>
    </script>
    <script type="text/html" name="color-swatch">
      <a href='#' class='swatch' style='background-color: <%= color %>'><label><%= color %></label></a>
    </script>
  </head>
  <body>
    <div class="loading">
    </div>
  </body>
</html>

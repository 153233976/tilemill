<% var format = model.get('format'); %>
<div class='fill-w' id='export-map'></div>

<form><ul class='fill-e form scrolling'>
  <% if (format === 'sync') { %>
  <% if (config.get('syncAccount') && config.get('syncAccessToken')) { %>
  <% var accountURL = config.get('syncURL') + '/' + config.get('syncAccount'); %>
  <% var mapURL = config.get('syncURL') + '/' + config.get('syncAccount') + '/map/' + model.get('project'); %>
  <li class='text'>
    <h2>Upload to MapBox</h2>
    <small class='syncHelp'>
    <b><a href='<%= mapURL %>' target='_blank'><%= mapURL.split('//').pop() %></a></b><br/>
    Create or update this map on your MapBox account
    <b><a href='<%= accountURL %>' target='_blank'><%=config.get('syncAccount')%></a></b>.
    </small>
    <div class='buttons centered'>
      <a class='button' href='#/settings'>Use another account</a>
    </div>
  </li>
  <% } else { %>
  <li class='text clearfix'>
    <h2>Upload to MapBox</h2>
    <small class='syncHelp prose'>
    <a href='http://mapbox.com/hosting' target='_blank'>MapBox Hosting</a> is an easy-to-use hosting service that gets maps onto your websites fast. If you don't have an account, we'll host your map for free for 7 days. <a href='http://tiles.mapbox.com/upload/' target='_blank'>Learn more &rarr;</a>
    </small>
    <div class='buttons centered'>
      <a class='button' href='#/settings'>Use my account</a>
    </div>
  </li>
  <% } %>
  <li>
    <label>Name</label>
    <%= project.get('name') || project.id %>
  </li>
  <% if (project.get('description')) { %>
  <li>
    <label>Description</label>
    <%= project.get('description') %>
  </li>
  <% } %>
  <li>
    <label>Bounds</label>
    <%= project.get('bounds').join(', ') %>
  </li>
  <li>
    <label>Zoom</label>
    Zoom levels
    <span class='minzoom'><%=project.get('minzoom')%></span> -
    <span class='maxzoom'><%=project.get('maxzoom')%></span>
  </li>
  <li>
    <label>Size</label>
    <div><span class='totaltiles'>0</span> tiles</div>
    <div><span class='totalsize'>0</span></div>
  </li>
  <li class='text'>
    <small class='prose'>
    Need to update this info? Edit your
    <a href='#/project/<%=project.id%>/settings'>project settings</a>.
    </small>
  </li>
  <li class='buttons'>
    <input type='submit' value='Upload' />
    <input type='button' value='Cancel' class='cancel' />
  </li>
  <% } else { %>
  <li>
    <label>Filename</label>
    <input type='text' name='filename' value='<%=project.id%>' size='12' />
    <small>.<%=format%></small>
  </li>
  <li>
    <label>Bounds</label>
    <div class='bboxForm sunken'>
      <input class='w' type='text' name='bbox_0' size='4' value='<%= project.get('bounds')[0] %>' />
      <input class='s' type='text' name='bbox_1' size='4' value='<%= project.get('bounds')[1] %>' />
      <input class='e' type='text' name='bbox_2' size='4' value='<%= project.get('bounds')[2] %>' />
      <input class='n' type='text' name='bbox_3' size='4' value='<%= project.get('bounds')[3] %>' />
    </div>
    <small class='help'><strong class='key'>SHIFT + drag</strong> to crop</small>
  </li>
  <% if (_(['png','pdf','svg']).include(format)) { %>
  <li>
    <label>Size</label>
    <input name='width' type='text' value='400' size='4' /> x
    <input name='height' type='text' value='400' size='4' />
  </li>
  <% } %>
  <% if (format === 'mbtiles') { %>
  <li>
    <label>Zoom</label>
    <div class='slider'></div>
    <small class='description help'>
      Zoom levels
      <span class='minzoom'><%=project.get('minzoom')%></span> -
      <span class='maxzoom'><%=project.get('maxzoom')%></span>
    </small>
  </li>
  <li>
    <label>Size</label>
    <div><span class='totaltiles'>0</span> tiles</div>
    <div><span class='totalsize'>0</span></div>
  </li>
  <% } %>
  <li class='buttons'>
    <input type='submit' value='Export' />
    <input type='button' value='Cancel' class='cancel' />
  </li>
  <% } %>
</ul></form>
